{"version":3,"file":"page-2.js","sources":["../src/js/authors.js","../src/js/author-form.js"],"sourcesContent":["export const authors = [\n  {\n    surname: 'Clements',\n    nameA: 'Golden',\n    patronymic: 'GG',\n    dob: 24,\n  },\n  {\n    surname: 'Hebert',\n    nameA: 'Francis',\n    patronymic: 'FF',\n    dob: 24,\n  },\n  {\n    surname: 'Cross',\n    nameA: 'Hale', \n    patronymic: 'LL',\n    dob: 24,\n  },\n];\n","import { authors } from \"./authors.js\";\n\nlet authorList = document.querySelector(\"#authorList\");\nlet saveButton = document.querySelector(\"#saveButton\");\nlet selectAuthor = null;\nlet form = document.querySelector('#output'); \n\n// const STORAGE_KEY = \"authors-item\";\nlet key = Date.now();\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault(); \n  \n  const formData = new FormData(event.currentTarget);   \n  console.log(formData); \n  let data = Object.fromEntries(formData.entries()); \n  \n  localStorage.setItem(key, JSON.stringify(data)); \n\n  document.querySelector(\n    '.content'\n  ).innerHTML = `<table class=\"authors\"></table>`;\n       \n    const { surname, nameA, patronymic, dob } = data;\n    let row = document.createElement('tr');\n    row.innerHTML = `\n    <td>${surname}</td>\n    <td>${nameA}</td>\n    <td>${patronymic}</td>\n    <td>${dob}</td> `;\n    document.querySelector('.authors').appendChild(row);\n  \n  // for (var key in data) {\n  //   // console.log(data[key]);\n  //   const { surname, nameA, patronymic, dob } = data;\n  //   let row = document.createElement('tr');\n  //   row.innerHTML = `\n  //   <td>${surname}</td>\n  //   <td>${nameA}</td>\n  //   <td>${patronymic}</td>\n  //   <td>${dob}</td> `;\n  //   document.querySelector('.authors').appendChild(row);\n  // }\n  event.currentTarget.reset();\n  // form.reset();\n}\n\n// const makeAuthorsTableRowMarkup = data => {\n// const { surname, nameA, patronymic, dob } = data;\n\n//   return `\n//   <tr>\n//     <td>${surname}</td>\n//     <td>${nameA}</td>\n//     <td>${patronymic}</td>\n//     <td>${dob}</td>     \n//   </tr>\n//   `;\n// };\n\n// console.log(authors);\n// const tableEl = document.querySelector('.authors-table');\n// const transactionTableRowsMarkup = authors\n//   .map(makeAuthorsTableRowMarkup)\n//   .join('');\n\n// tableEl.insertAdjacentHTML('beforeend', transactionTableRowsMarkup);\n\n// console.log(transactionTableRowsMarkup);\n\n\n\nfor (let index = 0; index < authors.length; index++) {\n  const currentAuthor = authors[index];\n  let li = document.createElement('li');\n  li.textContent = currentAuthor.surname + ' ' + currentAuthor.nameA;\n  li.dataset.authorNumber = index;\n  authorList.append(li);\n  // console.log(li);\n  \n}\n\n// Встановлення обробників\nauthorList.addEventListener('click', function (e) {\n\n\n  if (e.target.tagName != \"LI\") return;\n  selectAuthor = authors[e.target.dataset.authorNumber];\n  \n  fillForm(selectAuthor);\n  selectListItem(e.target);\n});\n\nsaveButton.addEventListener('click', function () {\n  updateAuthor(selectAuthor);\n});\n\n// Логіка\nfunction selectListItem(element) {\n  deselectAllListItems();\n  element.classList.add('selected');\n}\n\nfunction deselectAllListItems() {\n  let selectedItems = document.querySelectorAll('li.selected');\n  for (let i = 0; i < selectedItems.length; i++) {\n    const element = selectedItems[i];\n    element.classList.remove('selected');\n  }\n}\n\nfunction fillForm(selectAuthor) {\n  const form = document.forms[0];\n  \n  form.surname.value = selectAuthor.surname;\n  form.nameA.value = selectAuthor.nameA;\n  form.patronymic.value = selectAuthor.patronymic;\n  form.dob.value = selectAuthor.dob;\n//   form.email.value = selectAuthor.email;\n//   form.age.value = selectAuthor.age;\n}\n\nfunction updateAuthor(selectAuthor) {\n  const form = document.forms[0];\n\n  selectAuthor.surname = form.surname.value;\n  selectAuthor.nameA = form.nameA.value;\n  selectAuthor.patronymic = form.patronymic.value;\n  selectAuthor.dob = form.dob.value;\n//   selectAuthor.email = form.email.value;\n//   selectAuthor.age = form.age.value;\n}\n\n\n// const form = document.querySelector('.js-register-form');\n\n// authorList.addEventListener('submit', onFormSubmit);\n\n\n// function onFormSubmit(event) {\n//   event.preventDefault();\n\n// console.dir(event.currentTarget.elements);\n\n\n//   const formData = new FormData(event.currentTarget);\n\n//   console.log(formData);\n\n//   formData.forEach((value, name) => {\n//     console.log('onFormSubmit -> name', name);\n//     console.log('onFormSubmit -> value', value);\n//   });\n// }"],"names":["authors","authorList","saveButton","selectAuthor","form","key","onFormSubmit","event","formData","data","surname","nameA","patronymic","dob","row","index","currentAuthor","li","fillForm","selectListItem","updateAuthor","element","deselectAllListItems","selectedItems","i"],"mappings":"ssBAAO,MAAMA,EAAU,CACrB,CACE,QAAS,WACT,MAAO,SACP,WAAY,KACZ,IAAK,EACN,EACD,CACE,QAAS,SACT,MAAO,UACP,WAAY,KACZ,IAAK,EACN,EACD,CACE,QAAS,QACT,MAAO,OACP,WAAY,KACZ,IAAK,EACN,CACH,ECjBA,IAAIC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAe,KACfC,EAAO,SAAS,cAAc,SAAS,EAGvCC,EAAM,KAAK,MAEfD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASD,EAAM,aAAa,EACjD,QAAQ,IAAIC,CAAQ,EACpB,IAAIC,EAAO,OAAO,YAAYD,EAAS,QAAS,CAAA,EAEhD,aAAa,QAAQH,EAAK,KAAK,UAAUI,CAAI,CAAC,EAE9C,SAAS,cACP,UACJ,EAAI,UAAY,kCAEZ,KAAM,CAAE,QAAAC,EAAS,MAAAC,EAAO,WAAAC,EAAY,IAAAC,CAAG,EAAKJ,EAC5C,IAAIK,EAAM,SAAS,cAAc,IAAI,EACrCA,EAAI,UAAY;AAAA,UACVJ,CAAO;AAAA,UACPC,CAAK;AAAA,UACLC,CAAU;AAAA,UACVC,CAAG,SACT,SAAS,cAAc,UAAU,EAAE,YAAYC,CAAG,EAapDP,EAAM,cAAc,OAEtB,CA2BA,QAASQ,EAAQ,EAAGA,EAAQf,EAAQ,OAAQe,IAAS,CACnD,MAAMC,EAAgBhB,EAAQe,CAAK,EACnC,IAAIE,EAAK,SAAS,cAAc,IAAI,EACpCA,EAAG,YAAcD,EAAc,QAAU,IAAMA,EAAc,MAC7DC,EAAG,QAAQ,aAAeF,EAC1Bd,EAAW,OAAOgB,CAAE,CAGtB,CAGAhB,EAAW,iBAAiB,QAAS,SAAU,EAAG,CAG5C,EAAE,OAAO,SAAW,OACxBE,EAAeH,EAAQ,EAAE,OAAO,QAAQ,YAAY,EAEpDkB,EAASf,CAAY,EACrBgB,EAAe,EAAE,MAAM,EACzB,CAAC,EAEDjB,EAAW,iBAAiB,QAAS,UAAY,CAC/CkB,EAAajB,CAAY,CAC3B,CAAC,EAGD,SAASgB,EAAeE,EAAS,CAC/BC,IACAD,EAAQ,UAAU,IAAI,UAAU,CAClC,CAEA,SAASC,GAAuB,CAC9B,IAAIC,EAAgB,SAAS,iBAAiB,aAAa,EAC3D,QAASC,EAAI,EAAGA,EAAID,EAAc,OAAQC,IACxBD,EAAcC,CAAC,EACvB,UAAU,OAAO,UAAU,CAEvC,CAEA,SAASN,EAASf,EAAc,CAC9B,MAAMC,EAAO,SAAS,MAAM,CAAC,EAE7BA,EAAK,QAAQ,MAAQD,EAAa,QAClCC,EAAK,MAAM,MAAQD,EAAa,MAChCC,EAAK,WAAW,MAAQD,EAAa,WACrCC,EAAK,IAAI,MAAQD,EAAa,GAGhC,CAEA,SAASiB,EAAajB,EAAc,CAClC,MAAMC,EAAO,SAAS,MAAM,CAAC,EAE7BD,EAAa,QAAUC,EAAK,QAAQ,MACpCD,EAAa,MAAQC,EAAK,MAAM,MAChCD,EAAa,WAAaC,EAAK,WAAW,MAC1CD,EAAa,IAAMC,EAAK,IAAI,KAG9B"}