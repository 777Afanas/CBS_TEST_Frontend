{"version":3,"file":"page-2.js","sources":["../src/js/authors.js","../src/js/author-form.js"],"sourcesContent":["export const authors = [\n  {\n    surname: 'Clements',\n    nameA: 'Golden',\n    patronymic: 'GG',\n    dob: 24,\n  },\n  {\n    surname: 'Hebert',\n    nameA: 'Francis',\n    patronymic: 'FF',\n    dob: 24,\n  },\n  {\n    surname: 'Cross',\n    nameA: 'Hale', \n    patronymic: 'LL',\n    dob: 24,\n  },\n];\n","import { authors } from './authors.js';\n\nlet authorList = document.querySelector('#authorList');\nlet saveButton = document.querySelector('#saveButton');\nlet selectAuthor = null;\nlet form = document.querySelector('#output');\nlet bookForm = document.querySelector('#book');\n\n// const STORAGE_KEY = \"authors-item\";\nlet key = Date.now();\n\nconst catalog = [];\nconst bibliography = [];\nform.addEventListener('submit', onFormSubmit);\nbookForm.addEventListener('submit', onBookFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const formData = new FormData(event.currentTarget);\n  console.log(formData);\n  let data = Object.fromEntries(formData.entries());\n  console.log(data);\n\n  const nums = catalog.push(data);\n  localStorage.setItem(key, JSON.stringify(catalog));\n\n  document.querySelector(\n    '.content'\n  ).innerHTML = `<table class=\"authors\"></table>`;\n\n  // const { surname, nameA, patronymic, dob } = data;\n  // let row = document.createElement('tr');\n  // row.innerHTML = `\n  // <td>${surname}</td>\n  // <td>${nameA}</td>\n  // <td>${patronymic}</td>\n  // <td>${dob}</td> `;\n  // document.querySelector('.authors').appendChild(row);\n\n  for (let i = 0; i < catalog.length; i++) {\n    let row = document.createElement('tr');\n    row.innerHTML = `\n    <td>${catalog[i].surname}</td>\n    <td>${catalog[i].nameA}</td>\n    <td>${catalog[i].patronymic}</td>\n    <td>${catalog[i].dob}</td> `;\n\n    document.querySelector('.authors').appendChild(row);\n  }\n  // }\n\n  event.currentTarget.reset();\n  // form.reset();\n}\n\nfunction onBookFormSubmit(event) {\n  event.preventDefault();\n\nconst formData = new FormData(event.currentTarget);\nconsole.log(formData);\nlet data = Object.fromEntries(formData.entries());\nconsole.log(data);\n\nconst nums = bibliography.push(data);\n// localStorage.setItem(key, JSON.sringify(catalog));\n\ndocument.querySelector(\n  '.books'\n  ).innerHTML = `<table class=\"record\"></table>`;\n  \n  for (let i = 0; i < bibliography.length; i++) {\n    let row = document.createElement('tr');\n    row.innerHTML = `\n    <td>${bibliography[i].title}</td>\n    <td>${bibliography[i].paging}</td>     \n    <td>${bibliography[i].genre}</td> `;\n\n    document.querySelector('.record').appendChild(row);\n  }\n  // }\n\n  event.currentTarget.reset();\n\n}\n// const makeAuthorsTableRowMarkup = data => {\n// const { surname, nameA, patronymic, dob } = data;\n\n//   return `\n//   <tr>\n//     <td>${surname}</td>\n//     <td>${nameA}</td>\n//     <td>${patronymic}</td>\n//     <td>${dob}</td>\n//   </tr>\n//   `;\n// };\n\n// console.log(authors);\n// const tableEl = document.querySelector('.authors-table');\n// const transactionTableRowsMarkup = authors\n//   .map(makeAuthorsTableRowMarkup)\n//   .join('');\n\n// tableEl.insertAdjacentHTML('beforeend', transactionTableRowsMarkup);\n\n// console.log(transactionTableRowsMarkup);\n\nfor (let index = 0; index < authors.length; index++) {\n  const currentAuthor = authors[index];\n  let li = document.createElement('li');\n  li.textContent = currentAuthor.surname + ' ' + currentAuthor.nameA;\n  li.dataset.authorNumber = index;\n  authorList.append(li);\n  // console.log(li);\n}\n\n// Встановлення обробників\nauthorList.addEventListener('click', function (e) {\n  if (e.target.tagName != 'LI') return;\n  selectAuthor = authors[e.target.dataset.authorNumber];\n\n  fillForm(selectAuthor);\n  selectListItem(e.target);\n});\n\nsaveButton.addEventListener('click', function () {\n  updateAuthor(selectAuthor);\n});\n\n// Логіка\nfunction selectListItem(element) {\n  deselectAllListItems();\n  element.classList.add('selected');\n}\n\nfunction deselectAllListItems() {\n  let selectedItems = document.querySelectorAll('li.selected');\n  for (let i = 0; i < selectedItems.length; i++) {\n    const element = selectedItems[i];\n    element.classList.remove('selected');\n  }\n}\n\nfunction fillForm(selectAuthor) {\n  const form = document.forms[0];\n\n  form.surname.value = selectAuthor.surname;\n  form.nameA.value = selectAuthor.nameA;\n  form.patronymic.value = selectAuthor.patronymic;\n  form.dob.value = selectAuthor.dob;\n  //   form.email.value = selectAuthor.email;\n  //   form.age.value = selectAuthor.age;\n}\n\nfunction updateAuthor(selectAuthor) {\n  const form = document.forms[0];\n\n  selectAuthor.surname = form.surname.value;\n  selectAuthor.nameA = form.nameA.value;\n  selectAuthor.patronymic = form.patronymic.value;\n  selectAuthor.dob = form.dob.value;\n  //   selectAuthor.email = form.email.value;\n  //   selectAuthor.age = form.age.value;\n}\n"],"names":["authors","authorList","saveButton","selectAuthor","form","bookForm","key","catalog","bibliography","onFormSubmit","onBookFormSubmit","event","formData","data","i","row","index","currentAuthor","li","fillForm","selectListItem","updateAuthor","element","deselectAllListItems","selectedItems"],"mappings":"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"}