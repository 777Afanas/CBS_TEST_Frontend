{"version":3,"file":"page-2.js","sources":["../src/js/authors.js","../src/js/author-form.js"],"sourcesContent":["export const authors = [\n  {\n    surname: 'Clements',\n    nameA: 'Golden',\n    patronymic: 'GG',\n    dob: 24,\n  },\n  {\n    surname: 'Hebert',\n    nameA: 'Francis',\n    patronymic: 'FF',\n    dob: 24,\n  },\n  {\n    surname: 'Cross',\n    nameA: 'Hale', \n    patronymic: 'LL',\n    dob: 24,\n  },\n];\n","import { authors } from \"./authors.js\";\n\nlet authorList = document.querySelector(\"#authorList\");\nlet saveButton = document.querySelector(\"#saveButton\");\nlet selectAuthor = null;\nlet form = document.querySelector('#output'); \n\n// console.log(authors);\n// console.log(authorList);\n// console.log(selectAuthor);\n// console.log(authors.length);\n// console.log(authors[0]);\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  // console.dir(event.currentTarget.elements.surname.value); \n  const formData = new FormData(event.currentTarget);   \n  console.log(formData);\n\n  let data = Object.fromEntries(formData.entries()); \n  console.log(data);\n  // formData.forEach((value, name) => {\n  //   console.log('onFormSubmit -> name', name);\n  //   console.log('onFormSubmit -> value', value);\n  // }); \n\n  const makeAuthorsTableRowMarkup = data1 => {\n    const { surname, nameA, patronymic, dob } = data1;\n\n    return `\n  <tr>\n    <td>${surname}</td>\n    <td>${nameA}</td>\n    <td>${patronymic}</td>\n    <td>${dob}</td>     \n  </tr>\n  `;\n  };\n\n  console.log(data);\n  const tableEl = document.querySelector('.authors-table');\n  const transactionTableRowsMarkup = data\n    .map(makeAuthorsTableRowMarkup)\n    .join('');\n\n  tableEl.insertAdjacentHTML('beforeend', transactionTableRowsMarkup);\n  \n}\n\n// const makeAuthorsTableRowMarkup = data => {\n// const { surname, nameA, patronymic, dob } = data;\n\n//   return `\n//   <tr>\n//     <td>${surname}</td>\n//     <td>${nameA}</td>\n//     <td>${patronymic}</td>\n//     <td>${dob}</td>     \n//   </tr>\n//   `;\n// };\n\n// console.log(authors);\n// const tableEl = document.querySelector('.authors-table');\n// const transactionTableRowsMarkup = authors\n//   .map(makeAuthorsTableRowMarkup)\n//   .join('');\n\n// tableEl.insertAdjacentHTML('beforeend', transactionTableRowsMarkup);\n\n// console.log(transactionTableRowsMarkup);\n\n\n\nfor (let index = 0; index < authors.length; index++) {\n  const currentAuthor = authors[index];\n  let li = document.createElement('li');\n  li.textContent = currentAuthor.surname + ' ' + currentAuthor.nameA;\n  li.dataset.authorNumber = index;\n  authorList.append(li);\n  // console.log(li);\n  \n}\n\n// Встановлення обробників\nauthorList.addEventListener('click', function (e) {\n\n\n  if (e.target.tagName != \"LI\") return;\n  selectAuthor = authors[e.target.dataset.authorNumber];\n  \n  fillForm(selectAuthor);\n  selectListItem(e.target);\n});\n\nsaveButton.addEventListener('click', function () {\n  updateAuthor(selectAuthor);\n});\n\n// Логіка\nfunction selectListItem(element) {\n  deselectAllListItems();\n  element.classList.add('selected');\n}\n\nfunction deselectAllListItems() {\n  let selectedItems = document.querySelectorAll('li.selected');\n  for (let i = 0; i < selectedItems.length; i++) {\n    const element = selectedItems[i];\n    element.classList.remove('selected');\n  }\n}\n\nfunction fillForm(selectAuthor) {\n  const form = document.forms[0];\n  \n  form.surname.value = selectAuthor.surname;\n  form.nameA.value = selectAuthor.nameA;\n  form.patronymic.value = selectAuthor.patronymic;\n  form.dob.value = selectAuthor.dob;\n//   form.email.value = selectAuthor.email;\n//   form.age.value = selectAuthor.age;\n}\n\nfunction updateAuthor(selectAuthor) {\n  const form = document.forms[0];\n\n  selectAuthor.surname = form.surname.value;\n  selectAuthor.nameA = form.nameA.value;\n  selectAuthor.patronymic = form.patronymic.value;\n  selectAuthor.dob = form.dob.value;\n//   selectAuthor.email = form.email.value;\n//   selectAuthor.age = form.age.value;\n}\n\n\n// const form = document.querySelector('.js-register-form');\n\n// authorList.addEventListener('submit', onFormSubmit);\n\n\n// function onFormSubmit(event) {\n//   event.preventDefault();\n\n// console.dir(event.currentTarget.elements);\n\n\n//   const formData = new FormData(event.currentTarget);\n\n//   console.log(formData);\n\n//   formData.forEach((value, name) => {\n//     console.log('onFormSubmit -> name', name);\n//     console.log('onFormSubmit -> value', value);\n//   });\n// }"],"names":["authors","authorList","saveButton","selectAuthor","form","onFormSubmit","event","formData","data","makeAuthorsTableRowMarkup","data1","surname","nameA","patronymic","dob","tableEl","transactionTableRowsMarkup","index","currentAuthor","li","fillForm","selectListItem","updateAuthor","element","deselectAllListItems","selectedItems","i"],"mappings":"ssBAAO,MAAMA,EAAU,CACrB,CACE,QAAS,WACT,MAAO,SACP,WAAY,KACZ,IAAK,EACN,EACD,CACE,QAAS,SACT,MAAO,UACP,WAAY,KACZ,IAAK,EACN,EACD,CACE,QAAS,QACT,MAAO,OACP,WAAY,KACZ,IAAK,EACN,CACH,ECjBA,IAAIC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAe,KACfC,EAAO,SAAS,cAAc,SAAS,EAQ3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAGpB,MAAMC,EAAW,IAAI,SAASD,EAAM,aAAa,EACjD,QAAQ,IAAIC,CAAQ,EAEpB,IAAIC,EAAO,OAAO,YAAYD,EAAS,QAAS,CAAA,EAChD,QAAQ,IAAIC,CAAI,EAMhB,MAAMC,EAA4BC,GAAS,CACzC,KAAM,CAAE,QAAAC,EAAS,MAAAC,EAAO,WAAAC,EAAY,IAAAC,CAAG,EAAKJ,EAE5C,MAAO;AAAA;AAAA,UAEDC,CAAO;AAAA,UACPC,CAAK;AAAA,UACLC,CAAU;AAAA,UACVC,CAAG;AAAA;AAAA,GAGb,EAEE,QAAQ,IAAIN,CAAI,EAChB,MAAMO,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAA6BR,EAChC,IAAIC,CAAyB,EAC7B,KAAK,EAAE,EAEVM,EAAQ,mBAAmB,YAAaC,CAA0B,CAEpE,CA2BA,QAASC,EAAQ,EAAGA,EAAQjB,EAAQ,OAAQiB,IAAS,CACnD,MAAMC,EAAgBlB,EAAQiB,CAAK,EACnC,IAAIE,EAAK,SAAS,cAAc,IAAI,EACpCA,EAAG,YAAcD,EAAc,QAAU,IAAMA,EAAc,MAC7DC,EAAG,QAAQ,aAAeF,EAC1BhB,EAAW,OAAOkB,CAAE,CAGtB,CAGAlB,EAAW,iBAAiB,QAAS,SAAU,EAAG,CAG5C,EAAE,OAAO,SAAW,OACxBE,EAAeH,EAAQ,EAAE,OAAO,QAAQ,YAAY,EAEpDoB,EAASjB,CAAY,EACrBkB,EAAe,EAAE,MAAM,EACzB,CAAC,EAEDnB,EAAW,iBAAiB,QAAS,UAAY,CAC/CoB,EAAanB,CAAY,CAC3B,CAAC,EAGD,SAASkB,EAAeE,EAAS,CAC/BC,IACAD,EAAQ,UAAU,IAAI,UAAU,CAClC,CAEA,SAASC,GAAuB,CAC9B,IAAIC,EAAgB,SAAS,iBAAiB,aAAa,EAC3D,QAASC,EAAI,EAAGA,EAAID,EAAc,OAAQC,IACxBD,EAAcC,CAAC,EACvB,UAAU,OAAO,UAAU,CAEvC,CAEA,SAASN,EAASjB,EAAc,CAC9B,MAAMC,EAAO,SAAS,MAAM,CAAC,EAE7BA,EAAK,QAAQ,MAAQD,EAAa,QAClCC,EAAK,MAAM,MAAQD,EAAa,MAChCC,EAAK,WAAW,MAAQD,EAAa,WACrCC,EAAK,IAAI,MAAQD,EAAa,GAGhC,CAEA,SAASmB,EAAanB,EAAc,CAClC,MAAMC,EAAO,SAAS,MAAM,CAAC,EAE7BD,EAAa,QAAUC,EAAK,QAAQ,MACpCD,EAAa,MAAQC,EAAK,MAAM,MAChCD,EAAa,WAAaC,EAAK,WAAW,MAC1CD,EAAa,IAAMC,EAAK,IAAI,KAG9B"}